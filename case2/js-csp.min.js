(function(l,s){'object'==typeof exports&&'object'==typeof module?module.exports=s():'function'==typeof define&&define.amd?define('csp',[],s):'object'==typeof exports?exports.csp=s():l.csp=s()})(this,function(){return function(a){function l(d){if(s[d])return s[d].exports;var o=s[d]={i:d,l:!1,exports:{}};return a[d].call(o.exports,o,o.exports,l),o.l=!0,o.exports}var s={};return l.m=a,l.c=s,l.i=function(d){return d},l.d=function(d,o,u){l.o(d,o)||Object.defineProperty(d,o,{configurable:!1,enumerable:!0,get:u})},l.n=function(d){var o=d&&d.__esModule?function(){return d['default']}:function(){return d};return l.d(o,'a',o),o},l.o=function(d,o){return Object.prototype.hasOwnProperty.call(d,o)},l.p='',l(l.s=12)}([function(a,l,s){'use strict';function d(T){return console.log('error in channel transformer',T.stack),_}function o(T,M,E){const O=(M||d)(E);return O!==_&&T.add(O),T}function u(T){return M=>({"@@transducer/step":(E,O)=>{try{return M['@@transducer/step'](E,O)}catch(F){return o(E,T,F)}},"@@transducer/result":E=>{try{return M['@@transducer/result'](E)}catch(O){return o(E,T,O)}}})}l.c=function(T,M,E){let O;if(M){if(!T)throw new Error('Only buffered channels can use transducers');O=M(I)}else O=I;return new A(s.i(h.e)(32),s.i(h.e)(32),T,u(E)(O))};var h=s(2),b=s(1),x=s(15);const k=64,y=1024,_=null;l.a=_;class A{constructor(T,M,E,O){this.buf=E,this.xform=O,this.takes=T,this.puts=M,this.dirtyTakes=0,this.dirtyPuts=0,this.closed=!1}put(T,M){if(T===_)throw new Error('Cannot put CLOSED on a channel.');if(!M.isActive())return null;if(this.closed)return M.commit(),new b.a(!1);if(this.buf&&!this.buf.isFull()){M.commit();const E=s.i(x.a)(this.xform['@@transducer/step'](this.buf,T));for(;0<this.buf.count()&&0<this.takes.length;){const O=this.takes.pop();O.isActive()&&s.i(x.b)(O.commit(),this.buf.remove())}return E&&this.close(),new b.a(!0)}for(;0<this.takes.length;){const E=this.takes.pop();if(E.isActive())return M.commit(),s.i(x.b)(E.commit(),T),new b.a(!0)}if(this.dirtyPuts>k?(this.puts.cleanup(E=>E.handler.isActive()),this.dirtyPuts=0):this.dirtyPuts+=1,M.isBlockable()){if(this.puts.length>=y)throw new Error(`No more than ${y} pending puts are allowed on a single channel.`);this.puts.unboundedUnshift(new b.b(M,T))}return null}take(T){if(!T.isActive())return null;if(this.buf&&0<this.buf.count()){T.commit();const M=this.buf.remove();for(;0<this.puts.length&&!this.buf.isFull();){const E=this.puts.pop();E.handler.isActive()&&(s.i(x.b)(E.handler.commit(),!0),s.i(x.a)(this.xform['@@transducer/step'](this.buf,E.value))&&this.close())}return new b.a(M)}for(;0<this.puts.length;){const M=this.puts.pop();if(M.handler.isActive())return T.commit(),s.i(x.b)(M.handler.commit(),!0),new b.a(M.value)}if(this.closed)return T.commit(),new b.a(_);if(this.dirtyTakes>k?(this.takes.cleanup(M=>M.isActive()),this.dirtyTakes=0):this.dirtyTakes+=1,T.isBlockable()){if(this.takes.length>=y)throw new Error(`No more than ${y} pending takes are allowed on a single channel.`);this.takes.unboundedUnshift(T)}return null}close(){if(!this.closed){if(this.closed=!0,this.buf)for(this.xform['@@transducer/result'](this.buf);0<this.buf.count()&&0<this.takes.length;){const T=this.takes.pop();T.isActive()&&s.i(x.b)(T.commit(),this.buf.remove())}s.i(x.c)(this.takes,T=>{T.isActive()&&s.i(x.b)(T.commit(),_)}),s.i(x.c)(this.puts,T=>{T.handler.isActive()&&s.i(x.b)(T.handler.commit(),!1)})}}isClosed(){return this.closed}}l.b=A;const I={"@@transducer/init":()=>{throw new Error('init not available')},"@@transducer/result":T=>T,"@@transducer/step":(T,M)=>{return T.add(M),T}}},function(a,l){'use strict';l.a=class{constructor(u){this.value=u}};l.b=class{constructor(u,c){this.handler=u,this.value=c}}},function(a,l){'use strict';function d(I,T,M,E,O){for(let F=0;F<O;F+=1)M[E+F]=I[T+F]}function o(I){if(0>=I)throw new Error('Can\'t create a ring buffer of size 0');return new x(0,0,0,Array(I))}l.e=o,l.a=function(I){return new k(o(I),I)},l.b=function(I){return new y(o(I),I)},l.c=function(I){return new _(o(I),I)},l.d=function(){return new A(A.NO_VALUE)};class x{constructor(I,T,M,E){this.head=I,this.tail=T,this.length=M,this.arr=E}pop(){if(0!==this.length){const I=this.arr[this.tail];return this.arr[this.tail]=void 0,this.tail=(this.tail+1)%this.arr.length,this.length-=1,I}}unshift(I){this.arr[this.head]=I,this.head=(this.head+1)%this.arr.length,this.length+=1}unboundedUnshift(I){this.length+1===this.arr.length&&this.resize(),this.unshift(I)}resize(){const I=2*this.arr.length,T=Array(I);this.tail<this.head?(d(this.arr,this.tail,T,0,this.length),this.tail=0,this.head=this.length,this.arr=T):this.tail>this.head?(d(this.arr,this.tail,T,0,this.arr.length-this.tail),d(this.arr,0,T,this.arr.length-this.tail,this.head),this.tail=0,this.head=this.length,this.arr=T):this.tail===this.head&&(this.tail=0,this.head=0,this.arr=T)}cleanup(I){for(let T=this.length;0<T;T-=1){const M=this.pop();I(M)&&this.unshift(M)}}}class k{constructor(I,T){this.buffer=I,this.n=T}isFull(){return this.buffer.length===this.n}remove(){return this.buffer.pop()}add(I){this.buffer.unboundedUnshift(I)}closeBuffer(){}count(){return this.buffer.length}}class y{constructor(I,T){this.buffer=I,this.n=T}isFull(){return!1}remove(){return this.buffer.pop()}add(I){this.buffer.length!==this.n&&this.buffer.unshift(I)}closeBuffer(){}count(){return this.buffer.length}}class _{constructor(I,T){this.buffer=I,this.n=T}isFull(){return!1}remove(){return this.buffer.pop()}add(I){this.buffer.length===this.n&&this.remove(),this.buffer.unshift(I)}closeBuffer(){}count(){return this.buffer.length}}class A{constructor(I){this.value=I}isFull(){return!1}remove(){return this.value}add(I){A.isUndelivered(this.value)&&(this.value=I)}closeBuffer(){A.isUndelivered(this.value)&&(this.value=null)}count(){return A.isUndelivered(this.value)?0:1}}A.NO_VALUE='@@PromiseBuffer/NO_VALUE',A.isUndelivered=I=>A.NO_VALUE===I},function(a,l,s){'use strict';(function(d){function o(L,U,C){const P=L.put(U,new A.a(!0,C));P&&C&&C(P.value)}function u(L,U){const C=L.take(new A.a(!0,U));C&&U&&U(C.value)}l.g=o,l.h=u,l.b=function(L){return new I.a(L)},l.a=function(L,U){return new I.b(L,U)},l.e=function(L){return new I.c(L)},l.f=function(L,U){return new I.d(L,U)},l.d=function(L){if(L.closed)return null;const U=L.take(new A.a(!1));return U?U.value:null},l.c=function(L,U){if(L.closed)return!1;const C=L.put(U,new A.a(!1));return C instanceof T.a};var _=s(14),A=s(7),I=s(13),T=s(1),M=s(0),E=s(4);l.i=class{constructor(L,U){this.schedule=C=>{d(()=>this.run(C))},this.gen=L,this.finished=!1,this.onFinishFunc=U}run(L){if(!this.finished){const{done:U,value:C}=this.gen.next(L);U?(this.finished=!0,this.onFinishFunc(C)):C instanceof I.a?u(C.channel,this.schedule):C instanceof I.b?o(C.channel,C.value,this.schedule):C instanceof I.c?s.i(E.a)(this.schedule,C.msec):C instanceof I.d?s.i(_.a)(C.operations,this.schedule,C.options):C instanceof M.b?u(C,this.schedule):this.schedule(C)}}}}).call(l,s(8).setImmediate)},function(a,l,s){'use strict';(function(d){function o(){y&&k||(y=!0,d(()=>{let _=0;for(k=!0,y=!1;_<b;){const A=x.pop();if(A)A(),_+=1;else break}k=!1,0<x.length&&o()}))}l.b=function(_){x.unboundedUnshift(_),o()},l.a=function(_,A){setTimeout(_,A)};var h=s(2);const b=1024,x=s.i(h.e)(32);let k=!1,y=!1}).call(l,s(8).setImmediate)},function(a,l,s){'use strict';function d(k){const y=s.i(x.c)(s.i(h.a)(1)),_=new b.i(k,A=>{A===x.a?y.close():s.i(b.g)(y,A,()=>y.close())});return _.run(),y}l.a=d,l.b=function(k,y=[]){return d(k(...y))},l.c=function(k,y,_){return'number'==typeof k?s.i(x.c)(0===k?null:s.i(h.a)(k),y,_):s.i(x.c)(k,y,_)},l.d=function(k,y){return s.i(x.c)(s.i(h.d)(),k,y)};var h=s(2),b=s(3),x=s(0)},function(a,l,s){'use strict';s(0);const o={toString(){return'[object DEFAULT]'}};l.a=o;l.b=class{constructor(c,h){this.value=c,this.channel=h}}},function(a,l,s){'use strict';var d=s(25),o=s.n(d),u=s(1);l.a=class{constructor(b,x){this.blockable=b,this.func=x||o.a}isActive(){return!0}isBlockable(){return this.blockable}commit(){return this.func}};l.b=class{constructor(b,x){this.flag=b,this.func=x}isActive(){return this.flag.value}isBlockable(){return!0}commit(){return this.flag.value=!1,this.func}}},function(a,l,s){(function(d){function o(h,b){this._id=h,this._clearFn=b}var u='undefined'!=typeof d&&d||'undefined'!=typeof self&&self||window,c=Function.prototype.apply;l.setTimeout=function(){return new o(c.call(setTimeout,u,arguments),clearTimeout)},l.setInterval=function(){return new o(c.call(setInterval,u,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(h){h&&h.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(u,this._id)},l.enroll=function(h,b){clearTimeout(h._idleTimeoutId),h._idleTimeout=b},l.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},l._unrefActive=l.active=function(h){clearTimeout(h._idleTimeoutId);var b=h._idleTimeout;0<=b&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},b))},s(30),l.setImmediate='undefined'!=typeof self&&self.setImmediate||'undefined'!=typeof d&&d.setImmediate||this&&this.setImmediate,l.clearImmediate='undefined'!=typeof self&&self.clearImmediate||'undefined'!=typeof d&&d.clearImmediate||this&&this.clearImmediate}).call(l,s(9))},function(a){var s=function(){return this}();try{s=s||Function('return this')()||(1,eval)('this')}catch(d){'object'==typeof window&&(s=window)}a.exports=s},function(a,l,s){'use strict';function u(le,se,de){const oe=s.i(G.c)(de);return s.i(G.b)(function*(){for(;;){const re=yield s.i(H.b)(se);if(re===$.a){oe.close();break}le(re)&&(yield s.i(H.a)(oe,re))}}),oe}function c(le,se){return{isClosed(){return se.isClosed()},close(){se.close()},put(de,oe){return le(de)?se.put(de,oe):new R.a(!se.isClosed())},take(de){return se.take(de)}}}function*x(le,se,de){for(;;){const oe=yield s.i(H.b)(se);if(oe===$.a){de.close();break}else{const re=le(oe),ue=re.length;for(let ce=0;ce<ue;ce+=1)yield s.i(H.a)(de,re[ce]);if(de.isClosed())break}}}function I(le,se,de){return s.i(G.b)(function*(){for(let oe=se;;){const re=yield s.i(H.b)(de);if(re===$.a)return oe;oe=le(oe,re)}},[],!0)}function T(le,se,de){return s.i(G.b)(function*(){const oe=se.length;for(let re=0;re<oe;re+=1)yield s.i(H.a)(le,se[re]);de||le.close()})}function S(le){let se=le[Q];if(!se){const de=K();se=de,le[Q]=de}return se}function j(le){function se(ue){return ce=>{re-=1,0===re&&s.i(H.g)(oe,!0),ce||de.untap(ue.channel)}}const de=new Y(le),oe=s.i(G.c)(1);let re;return s.i(G.b)(function*(){for(;;){const ue=yield s.i(H.b)(le),ce=de.taps;let pe;if(ue===$.a){Object.keys(ce).forEach(he=>{pe=ce[he],pe.keepOpen||pe.channel.close()}),de.untapAll();break}re=Object.keys(ce).length;const fe=re;Object.keys(ce).forEach(he=>{pe=ce[he],s.i(H.g)(pe.channel,ue,se(pe))}),0<fe&&(yield s.i(H.b)(oe))}}),de}function w(le){const se=new ie(le);return s.i(G.b)(function*(){for(let de=se._getAllState();;){const oe=yield s.i(H.f)(de.reads),re=oe.value,ue=oe.channel;if(re===$.a)delete se.stateMap[S(ue)],de=se._getAllState();else if(ue===se.change)de=se._getAllState();else{const ce=de.solos;if(-1<ce.indexOf(ue)||0===ce.length&&!(-1<de.mutes.indexOf(ue))){const pe=yield s.i(H.a)(le,re);if(!pe)break}}}}),se}function D(){return null}function N(le,se,de=D){const oe=new ne(le,se,de);return s.i(G.b)(function*(){for(;;){const re=yield s.i(H.b)(le),ue=oe.mults;if(re===$.a){Object.keys(ue).forEach(fe=>{ue[fe].muxch().close()});break}const ce=se(re),pe=ue[ce];if(pe){const fe=yield s.i(H.a)(pe.muxch(),re);fe||delete ue[ce]}}}),oe}function V(le,se,de,oe,re){if(0>=le)throw new Error('n must be positive');const ue=s.i(G.c)(le),ce=s.i(G.c)(le);return z()(le,()=>{s.i(G.b)(function*(pe,fe,he){for(;;){const me=yield s.i(H.b)(fe);if(!pe(me)){he.close();break}}},[re,ue,ce])}),s.i(G.b)(function*(pe,fe,he){for(;;){const me=yield s.i(H.b)(fe);if(me===$.a){pe.close();break}const be=s.i(G.c)(1);yield s.i(H.a)(pe,[me,be]),yield s.i(H.a)(he,be)}},[ue,de,ce]),s.i(G.b)(function*(pe,fe,he){for(;;){const me=yield s.i(H.b)(pe);if(me===$.a){fe&&he.close();break}for(const be=yield s.i(H.b)(me);;){const ge=yield s.i(H.b)(be);if(ge===$.a)break;yield s.i(H.a)(he,ge)}}},[ce,oe,se]),se}l.a=function(le,se){return{isClosed(){return se.isClosed()},close(){se.close()},put(de,oe){return se.put(de,oe)},take(de){const oe=se.take({isActive(){return de.isActive()},commit(){const re=de.commit();return ue=>re(ue===$.a?$.a:le(ue))}});if(oe){const re=oe.value;return new R.a(re===$.a?$.a:le(re))}return null}}},l.b=function(le,se){return{isClosed(){return se.isClosed()},close(){se.close()},put(de,oe){return se.put(le(de),oe)},take(de){return se.take(de)}}},l.c=u,l.d=c,l.e=function(le,se){return u(de=>!le(de),se)},l.f=function(le,se){return c(de=>!le(de),se)},l.g=function(le,se,de){const oe=s.i(G.c)(de);return s.i(G.b)(x,[le,se,oe]),oe},l.h=function(le,se,de){const oe=s.i(G.c)(de);return s.i(G.b)(x,[le,oe,se]),oe},l.i=function(le,se,de){return s.i(G.b)(function*(){for(;;){const oe=yield s.i(H.b)(le);if(oe===$.a){de||se.close();break}if(!(yield s.i(H.a)(se,oe)))break}}),se},l.j=function(le,se,de,oe){const re=s.i(G.c)(de),ue=s.i(G.c)(oe);return s.i(G.b)(function*(){for(;;){const ce=yield s.i(H.b)(se);if(ce===$.a){re.close(),ue.close();break}yield s.i(H.a)(le(ce)?re:ue,ce)}}),[re,ue]},l.k=I,l.l=T,l.m=function(le){const se=s.i(G.c)(le.length);return T(se,le),se},l.n=function(le,se,de){const oe=s.i(G.c)(de),re=se.length,ue=Array(re),ce=s.i(G.c)(1);let pe;const fe=Array(re),he=me=>be=>{ue[me]=be,pe-=1,0===pe&&s.i(H.g)(ce,ue.slice(0))};for(let me=0;me<re;me+=1)fe[me]=he(me);return s.i(G.b)(function*(){for(;;){pe=re;for(let be=0;be<re;be+=1)try{s.i(H.h)(se[be],fe[be])}catch(ge){pe-=1}const me=yield s.i(H.b)(ce);for(let be=0;be<re;be+=1)if(me[be]===$.a)return void oe.close();yield s.i(H.a)(oe,le(...me))}}),oe},l.o=function(le,se){const de=s.i(G.c)(se),oe=le.slice(0);return s.i(G.b)(function*(){for(;;){if(0===oe.length)break;const re=yield s.i(H.f)(oe),ue=re.value;if(ue===$.a){const ce=oe.indexOf(re.channel);oe.splice(ce,1)}else yield s.i(H.a)(de,ue)}de.close()}),de},l.p=function(le,se){const de=le.slice(0);return I((oe,re)=>{return oe.push(re),oe},de,se)},l.y=function(le,se,de){const oe=s.i(G.c)(de);return s.i(G.b)(function*(){for(let re=0;re<le;re+=1){const ue=yield s.i(H.b)(se);if(ue===$.a)break;yield s.i(H.a)(oe,ue)}oe.close()}),oe},l.q=function(le,se){const de=s.i(G.c)(se);let oe=J;return s.i(G.b)(function*(){for(;;){const re=yield s.i(H.b)(le);if(re===$.a)break;re!==oe&&(oe=re,yield s.i(H.a)(de,re))}de.close()}),de},l.r=function(le,se,de){const oe=s.i(G.c)(de);let re=[],ue=J;return s.i(G.b)(function*(){for(;;){const ce=yield s.i(H.b)(se);if(ce===$.a){0<re.length&&(yield s.i(H.a)(oe,re)),oe.close();break}else{const pe=le(ce);pe===ue||ue===J?re.push(ce):(yield s.i(H.a)(oe,re),re=[ce]),ue=pe}}}),oe},l.s=function(le,se,de){const oe=s.i(G.c)(de);return s.i(G.b)(function*(){for(;;){const re=Array(le);for(let ue=0;ue<le;ue+=1){const ce=yield s.i(H.b)(se);if(ce===$.a)return 0<ue&&(yield s.i(H.a)(oe,re.slice(0,ue))),void oe.close();re[ue]=ce}yield s.i(H.a)(oe,re)}}),oe},l.t=j,l.u=w,l.v=N,l.w=function(le,se,de,oe,re){return V(1,le,de,!oe,function(ce){if(ce===$.a)return null;const[pe,fe]=ce,he=s.i(G.c)(1,se,re);return s.i(G.b)(function*(me,be){yield s.i(H.a)(me,be),he.close()},[he,pe]),s.i(H.g)(fe,he),!0})},l.x=function(le,se,de,oe,re){return V(le,se,oe,!re,function(ce){if(ce===$.a)return null;const[pe,fe]=ce,he=s.i(G.c)(1);return de(pe,he),s.i(H.g)(fe,he),!0})};var X=s(27),z=s.n(X),R=s(1),$=s(0),H=s(3),G=s(5);const J={},K=(()=>{let le=0;return()=>{return le+=1,`${le}`}})(),Q='__csp_channel_id';class W{constructor(le,se){this.channel=le,this.keepOpen=se}}class Y{constructor(le){this.taps={},this.ch=le}muxch(){return this.ch}tap(le,se){this.taps[S(le)]=new W(le,se)}untap(le){delete this.taps[S(le)]}untapAll(){this.taps={}}}j.tap=(le,se,de)=>{return le.tap(se,de),se},j.untap=(le,se)=>{le.untap(se)},j.untapAll=le=>{le.untapAll()};const Z='mute',ee='pause',ae=[Z,ee];class ie{constructor(le){this.ch=le,this.stateMap={},this.change=s.i(G.c)(),this.soloMode=Z}_changed(){s.i(H.g)(this.change,!0)}_getAllState(){const le=this.stateMap,se=[],de=[],oe=[];let re;Object.keys(le).forEach(pe=>{const fe=le[pe],he=fe.state,me=fe.channel;he['solo']&&se.push(me),he[Z]&&de.push(me),he[ee]&&oe.push(me)});let ue,ce;if(this.soloMode===ee&&0<se.length){for(ce=se.length,re=Array(ce+1),ue=0;ue<ce;ue+=1)re[ue]=se[ue];re[ce]=this.change}else re=[],Object.keys(le).forEach(pe=>{const fe=le[pe],he=fe.channel;0>oe.indexOf(he)&&re.push(he)}),re.push(this.change);return{solos:se,mutes:de,reads:re}}admix(le){this.stateMap[S(le)]={channel:le,state:{}},this._changed()}unmix(le){delete this.stateMap[S(le)],this._changed()}unmixAll(){this.stateMap={},this._changed()}toggle(le){const se=le.length;for(let de=0;de<se;de+=1){const oe=le[de][0],re=S(oe),ue=le[de][1];let ce=this.stateMap[re];if(!ce){const pe={channel:oe,state:{}};ce=pe,this.stateMap[re]=pe}Object.keys(ue).forEach(pe=>{ce.state[pe]=ue[pe]})}this._changed()}setSoloMode(le){if(0>ae.indexOf(le))throw new Error('Mode must be one of: ',ae.join(', '));this.soloMode=le,this._changed()}}w.add=function(se,de){se.admix(de)},w.remove=function(se,de){se.unmix(de)},w.removeAll=function(se){se.unmixAll()},w.toggle=function(se,de){se.toggle(de)},w.setSoloMode=function(se,de){se.setSoloMode(de)};class ne{constructor(le,se,de){this.ch=le,this.topicFn=se,this.bufferFn=de,this.mults={}}_ensureMult(le){let se=this.mults[le];const de=this.bufferFn;if(!se){const oe=j(s.i(G.c)(de(le)));se=oe,this.mults[le]=oe}return se}sub(le,se,de){const oe=this._ensureMult(le);return j.tap(oe,se,de)}unsub(le,se){const de=this.mults[le];de&&j.untap(de,se)}unsubAll(le){le===void 0?this.mults={}:delete this.mults[le]}}N.sub=(le,se,de,oe)=>le.sub(se,de,oe),N.unsub=(le,se,de)=>{le.unsub(se,de)},N.unsubAll=(le,se)=>{le.unsubAll(se)}},function(a,l,s){'use strict';l.a=function(c){const h=s.i(u.c)();return s.i(o.a)(()=>h.close(),c),h};var o=s(4),u=s(0)},function(a,l,s){'use strict';Object.defineProperty(l,'__esModule',{value:!0});var d=s(2),o=s(10),u=s(0);s.d(l,'CLOSED',function(){return u.a}),s.d(l,'Channel',function(){return u.b});var c=s(11);s.d(l,'timeout',function(){return c.a});var h=s(6);s.d(l,'DEFAULT',function(){return h.a});var b=s(3);s.d(l,'put',function(){return b.a}),s.d(l,'take',function(){return b.b}),s.d(l,'offer',function(){return b.c}),s.d(l,'poll',function(){return b.d}),s.d(l,'sleep',function(){return b.e}),s.d(l,'alts',function(){return b.f}),s.d(l,'putAsync',function(){return b.g}),s.d(l,'takeAsync',function(){return b.h});var x=s(5);s.d(l,'spawn',function(){return x.a}),s.d(l,'go',function(){return x.b}),s.d(l,'chan',function(){return x.c}),s.d(l,'promiseChan',function(){return x.d});const k={mapFrom:o.a,mapInto:o.b,filterFrom:o.c,filterInto:o.d,removeFrom:o.e,removeInto:o.f,mapcatFrom:o.g,mapcatInto:o.h,pipe:o.i,split:o.j,reduce:o.k,onto:o.l,fromColl:o.m,map:o.n,merge:o.o,into:o.p,unique:o.q,partitionBy:o.r,partition:o.s,mult:o.t,mix:o.u,pub:o.v,pipeline:o.w,pipelineAsync:o.x,take:o.y};l.operations=k;const y={fixed:d.a,dropping:d.b,sliding:d.c,promise:d.d};l.buffers=y},function(a,l,s){'use strict';s(0);l.a=class{constructor(b){this.channel=b}};l.b=class{constructor(b,x){this.channel=b,this.value=x}};l.c=class{constructor(b){this.msec=b}};l.d=class{constructor(b,x){this.operations=b,this.options=x}}},function(a,l,s){'use strict';l.a=function(I,T,M){if(0===I.length)throw new Error('Empty alt list');const E=new k.a(!0),O=x()(h()(I.length)),F=!!(M&&M.priority);let L;for(let U=0;U<I.length;U+=1){const C=I[F?U:O[U]];let P;if(C instanceof y.b?(P=C,L=P.take(new _.b(E,S=>T(new A.b(S,P))))):(P=C[0],L=P.put(C[1],new _.b(E,S=>T(new A.b(S,P))))),L){T(new A.b(L.value,P));break}}!L&&u()(M,'default')&&E.value&&(E.value=!1,T(new A.b(M.default,A.a)))};var o=s(24),u=s.n(o),c=s(26),h=s.n(c),b=s(16),x=s.n(b),k=s(1),y=s(0),_=s(7),A=s(6)},function(a,l,s){'use strict';l.c=function(h,b){for(;0<h.length;)b(h.pop())};var o=s(4);l.b=(h,b)=>{s.i(o.b)(()=>h(b))};l.a=h=>h&&h['@@transducer/reduced']},function(a,l,s){var o=s(20),u=s(23);a.exports=function(c){return u(o(c))}},function(a){a.exports=function(d,o){return null==d?void 0:d[o]}},function(a){var d=Math.floor,o=Math.random;a.exports=function(u,c){return u+d(o()*(c-u+1))}},function(a){var d=Math.ceil,o=Math.max;a.exports=function(u,c,h,b){for(var x=-1,k=o(d((c-u)/(h||1)),0),y=Array(k);k--;)y[b?k:++x]=u,u+=h;return y}},function(a){a.exports=function(d,o){var u=-1,c=d.length;for(o||(o=Array(c));++u<c;)o[u]=d[u];return o}},function(a,l,s){var o=s(19),u=s(22),c=s(28);a.exports=function(h){return function(b,x,k){return k&&'number'!=typeof k&&u(b,x,k)&&(x=k=void 0),b=c(b),void 0===x?(x=b,b=0):x=c(x),k=void 0===k?b<x?1:-1:c(k),o(b,x,k,h)}}},function(a){a.exports=function(){return!1}},function(a,l,s){var o=s(18);a.exports=function(u,c){var h=-1,b=u.length;for(c=void 0===c?b:c;++h<c;){var k=o(h,b-1),y=u[k];u[k]=u[h],u[h]=y}return u.length=c,u}},function(a,l,s){var o=s(17);a.exports=function(u,c,h){var b=null==u?void 0:o(u,c);return b===void 0?h:b}},function(a){a.exports=function(){}},function(a,l,s){var d=s(21),o=d();a.exports=o},function(a){a.exports=function(d,o){for(var u=-1,c=Array(d);++u<d;)c[u]=o(u);return c}},function(a){a.exports=function(d){return d}},function(a){function s(){throw new Error('setTimeout has not been defined')}function d(){throw new Error('clearTimeout has not been defined')}function o(E){if(y===setTimeout)return setTimeout(E,0);if((y===s||!y)&&setTimeout)return y=setTimeout,setTimeout(E,0);try{return y(E,0)}catch(O){try{return y.call(null,E,0)}catch(F){return y.call(this,E,0)}}}function u(E){if(_===clearTimeout)return clearTimeout(E);if((_===d||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(E);try{return _(E)}catch(O){try{return _.call(null,E)}catch(F){return _.call(this,E)}}}function c(){I&&T&&(I=!1,T.length?A=T.concat(A):M=-1,A.length&&h())}function h(){if(!I){var E=o(c);I=!0;for(var O=A.length;O;){for(T=A,A=[];++M<O;)T&&T[M].run();M=-1,O=A.length}T=null,I=!1,u(E)}}function b(E,O){this.fun=E,this.array=O}function x(){}var y,_,k=a.exports={};(function(){try{y='function'==typeof setTimeout?setTimeout:s}catch(E){y=s}try{_='function'==typeof clearTimeout?clearTimeout:d}catch(E){_=d}})();var T,A=[],I=!1,M=-1;k.nextTick=function(E){var O=Array(arguments.length-1);if(1<arguments.length)for(var F=1;F<arguments.length;F++)O[F-1]=arguments[F];A.push(new b(E,O)),1!==A.length||I||o(h)},b.prototype.run=function(){this.fun.apply(null,this.array)},k.title='browser',k.browser=!0,k.env={},k.argv=[],k.version='',k.versions={},k.on=x,k.addListener=x,k.once=x,k.off=x,k.removeListener=x,k.removeAllListeners=x,k.emit=x,k.prependListener=x,k.prependOnceListener=x,k.listeners=function(){return[]},k.binding=function(){throw new Error('process.binding is not supported')},k.cwd=function(){return'/'},k.chdir=function(){throw new Error('process.chdir is not supported')},k.umask=function(){return 0}},function(a,l,s){(function(d,o){(function(u,c){'use strict';function h(P){'function'!=typeof P&&(P=new Function(''+P));for(var S=Array(arguments.length-1),j=0;j<S.length;j++)S[j]=arguments[j+1];var w={callback:P,args:S};return O[E]=w,U(E),E++}function b(P){delete O[P]}function x(P){var S=P.callback,j=P.args;switch(j.length){case 0:S();break;case 1:S(j[0]);break;case 2:S(j[0],j[1]);break;case 3:S(j[0],j[1],j[2]);break;default:S.apply(c,j);}}function k(P){if(F)setTimeout(k,0,P);else{var S=O[P];if(S){F=!0;try{x(S)}finally{b(P),F=!1}}}}function y(){U=function(P){o.nextTick(function(){k(P)})}}function _(){if(u.postMessage&&!u.importScripts){var P=!0,S=u.onmessage;return u.onmessage=function(){P=!1},u.postMessage('','*'),u.onmessage=S,P}}function A(){var P='setImmediate$'+Math.random()+'$',S=function(j){j.source===u&&'string'==typeof j.data&&0===j.data.indexOf(P)&&k(+j.data.slice(P.length))};u.addEventListener?u.addEventListener('message',S,!1):u.attachEvent('onmessage',S),U=function(j){u.postMessage(P+j,'*')}}function I(){var P=new MessageChannel;P.port1.onmessage=function(S){var j=S.data;k(j)},U=function(S){P.port2.postMessage(S)}}function T(){var P=L.documentElement;U=function(S){var j=L.createElement('script');j.onreadystatechange=function(){k(S),j.onreadystatechange=null,P.removeChild(j),j=null},P.appendChild(j)}}function M(){U=function(P){setTimeout(k,0,P)}}if(!u.setImmediate){var U,E=1,O={},F=!1,L=u.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(u);C=C&&C.setTimeout?C:u,'[object process]'==={}.toString.call(u.process)?y():_()?A():u.MessageChannel?I():L&&'onreadystatechange'in L.createElement('script')?T():M(),C.setImmediate=h,C.clearImmediate=b}})('undefined'==typeof self?'undefined'==typeof d?this:d:self)}).call(l,s(9),s(29))}])});
